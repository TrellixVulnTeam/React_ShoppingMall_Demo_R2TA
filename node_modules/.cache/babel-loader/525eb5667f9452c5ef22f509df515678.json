{"ast":null,"code":"var _jsxFileName = \"/Users/kimjunghwan/coding_apple/REACT CLASS/shop/src/Detail.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Navbar, Container, Nav, NavDropdown, Button } from \"react-bootstrap\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { stockContext } from \"./App\";\nimport \"./Detail.scss\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { connect, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet Box = styled.div`\n  padding: 20px;\n`;\n_c = Box;\nlet Title = styled.h4`\n  font-size: 25px;\n  color: ${props => props.color};\n`; // class Detail2 extends React.Component{\n//   componentDidMount(){\n//     //컴포넌트 생성될 때\n//   }\n//   componentWillUnmount(){\n//     // 컴포넌트 소멸할 때\n//   }\n// }\n\n_c2 = Title;\n\nfunction Detail(props) {\n  _s();\n\n  // useEffect(() => {\n  //   async function fetchResult() {\n  //     let result = await axios.get(\n  //       \"https://codingapple1.github.io/shop/data2.json\"\n  //     );\n  //     props.shoesChange([...props.shoes, ...result.data]);\n  //   }\n  //   console.log(props.shoes);\n  //   fetchResult();\n  // }, []);\n  let stock = useContext(stockContext); // import해온 context 범위의 state 사용 가능해짐\n\n  console.log(props.shoes);\n  let [alert, alertChange] = useState(true);\n  let [inputData, inputDataChange] = useState(\"\"); // 컴포넌트가 mount 되었을때, update 될때 특정 코드 실행\n  // use Effect 는 여러개 생성 가능 대신 먼저 적힌 코드부터 실행\n  // use Effect 콜백함수 뒤에 인자로 []를 사용하여 안에 특정 state를 집어넣을 수 있다.\n  // 즉 []는 state 조건을 뜻하고 해당 []가 비어있으면 조건에 맞는값이 없으므로\n  // 해당 useEffect는 실행되지 않는다. = 해당 컴포넌트가 처음 로드될때만 실행됨\n  // [] 내부에 state 여러개 추가 가능 ex) [state1, state2...]\n\n  useEffect(() => {\n    let timer = setTimeout(() => {\n      alertChange(false);\n    }, 2000);\n    console.log(\"hello\"); // unmount 될때\n\n    return () => {\n      clearTimeout(timer);\n    }; // settimeout은 해당 초가 지나기 전에 사용자에 의해 페이지 변경이 일어나면\n    // 버그가 발생할 수 있어 실행 후 제거해주는 것이 좋다. = clearTimeout\n  }, []);\n  let history = useHistory();\n  let {\n    id\n  } = useParams(); // useParams 반환값은 객체 그 안에 url의 모든 파라미터 담겨있음\n  // 그래서 destructuring 을 사용해 변수에 담아줌\n\n  let selectItem = props.shoes.find(i => {\n    return i.id == id;\n  }); // find 메서드는 앞에 온 배열의 하나하나를 인자로 넣어주어 뒤에 콜백함수에 적어준 조건에 맞는 첫번째 값을 반환한다.\n  // 만약 조건에 맞는 모든 값들을 얻고 싶다면 filter 함수를 사용해 배열형태로 조건에 맞는 값들을 받아올 수 있다.\n\n  console.log(selectItem);\n  console.log(id);\n\n  function stockMinus() {\n    let stock = [...props.stock];\n    let idx = selectItem.id;\n    console.log(stock);\n    stock.splice(idx, 1, stock[idx] - 1);\n    console.log(stock);\n    return stock;\n  }\n\n  let [tab, tabChange] = useState(0);\n  let [onoff, onoffChange] = useState(false);\n  let state = useSelector(state => {\n    return state;\n  });\n  useEffect(() => {\n    let copy = [...state.reducer3];\n    console.log(copy);\n    let find = copy.find(i => {\n      return i == id;\n    }); // 중복찾기\n\n    if (!find) {\n      copy.push(id); // usaParam으로 가져온 것\n    }\n\n    state.reducer3 = copy;\n    localStorage.setItem(\"local\", JSON.stringify(copy));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Title, {\n        className: \"red\",\n        children: \"Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), inputData, /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: e => {\n        inputDataChange(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), // 보통의 UI가 이렇게 true. false를 반환하는 state를 만들고\n    // 삼항조건식으로 생성 및 제거하는 방법으로 구축한다.\n    alert === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-alert-2\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC7AC\\uACE0\\uAC00 \\uC5BC\\uB9C8 \\uB0A8\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://codingapple1.github.io/shop/shoes\" + (selectItem.id + 1) + \".jpg\",\n          width: \"100%\",\n          alt: \"\\uC774\\uBBF8\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"pt-5\",\n          children: selectItem.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectItem.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [selectItem.price, \"\\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Info, {\n          stock: props.stock,\n          selectItem: selectItem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => {\n            props.stockChange(stockMinus);\n            props.dispatch({\n              type: \"addItem\",\n              payload: {\n                id: props.state[props.state.length - 1].id + 1,\n                name: selectItem.title,\n                quan: 1\n              }\n            });\n            history.push(\"/cart\");\n          },\n          children: \"\\uC8FC\\uBB38\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => {\n            history.push(\"/\");\n          },\n          children: \"\\uB4A4\\uB85C\\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Nav, {\n      className: \"mt-5\",\n      variant: \"tabs\",\n      defaultActiveKey: \"link-0\",\n      children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n        children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n          eventKey: \"link-0\",\n          onClick: () => {\n            tabChange(0);\n            onoffChange(false);\n          },\n          children: \"\\uC0C1\\uD488\\uC124\\uBA85\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n        children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n          eventKey: \"link-1\",\n          onClick: () => {\n            tabChange(1);\n            onoffChange(false);\n          },\n          children: \"\\uBC30\\uC1A1\\uC815\\uBCF4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n        children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n          eventKey: \"link-2\",\n          onClick: () => {\n            tabChange(2);\n            onoffChange(false);\n          },\n          children: \"\\uD658\\uBD88\\uC57D\\uAD00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: onoff,\n      classNames: \"wow\",\n      timeout: 500,\n      children: /*#__PURE__*/_jsxDEV(TabContent, {\n        tab: tab,\n        onoffChange: onoffChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Detail, \"44+A14Muvr8T9zOxJpqR5vRVDow=\", false, function () {\n  return [useHistory, useParams, useSelector];\n});\n\n_c3 = Detail;\n\nfunction TabContent(props) {\n  _s2();\n\n  useEffect(() => {\n    props.onoffChange(true);\n  });\n\n  if (props.tab === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"0\\uBC88\\uC9F8 \\uB0B4\\uC6A9\\uC785\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 12\n    }, this);\n  } else if (props.tab === 1) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"1\\uBC88\\uC9F8 \\uB0B4\\uC6A9\\uC785\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 12\n    }, this);\n  } else if (props.tab === 2) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"2\\uBC88\\uC9F8 \\uB0B4\\uC6A9\\uC785\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s2(TabContent, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c4 = TabContent;\n\nfunction Info(props) {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"\\uC7AC\\uACE0 : \", props.stock[props.selectItem.id]]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 10\n  }, this);\n}\n\n_c5 = Info;\n\nfunction propsChange(state) {\n  console.log(state);\n  return {\n    state: state.reducer,\n    alert: state.reducer2\n  };\n}\n\nexport default connect(propsChange)(Detail);\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Box\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"Detail\");\n$RefreshReg$(_c4, \"TabContent\");\n$RefreshReg$(_c5, \"Info\");","map":{"version":3,"sources":["/Users/kimjunghwan/coding_apple/REACT CLASS/shop/src/Detail.js"],"names":["axios","React","useContext","useEffect","useState","Navbar","Container","Nav","NavDropdown","Button","useHistory","useParams","styled","stockContext","CSSTransition","connect","useSelector","Box","div","Title","h4","props","color","Detail","stock","console","log","shoes","alert","alertChange","inputData","inputDataChange","timer","setTimeout","clearTimeout","history","id","selectItem","find","i","stockMinus","idx","splice","tab","tabChange","onoff","onoffChange","state","copy","reducer3","push","localStorage","setItem","JSON","stringify","e","target","value","title","content","price","stockChange","dispatch","type","payload","length","name","quan","TabContent","Info","propsChange","reducer","reducer2"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Navbar, Container, Nav, NavDropdown, Button } from \"react-bootstrap\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { stockContext } from \"./App\";\nimport \"./Detail.scss\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { connect, useSelector } from \"react-redux\";\n\nlet Box = styled.div`\n  padding: 20px;\n`;\n\nlet Title = styled.h4`\n  font-size: 25px;\n  color: ${(props) => props.color};\n`;\n\n// class Detail2 extends React.Component{\n//   componentDidMount(){\n//     //컴포넌트 생성될 때\n//   }\n\n//   componentWillUnmount(){\n//     // 컴포넌트 소멸할 때\n//   }\n// }\n\nfunction Detail(props) {\n  // useEffect(() => {\n  //   async function fetchResult() {\n  //     let result = await axios.get(\n  //       \"https://codingapple1.github.io/shop/data2.json\"\n  //     );\n  //     props.shoesChange([...props.shoes, ...result.data]);\n  //   }\n  //   console.log(props.shoes);\n  //   fetchResult();\n  // }, []);\n\n  let stock = useContext(stockContext);\n  // import해온 context 범위의 state 사용 가능해짐\n\n  console.log(props.shoes);\n\n  let [alert, alertChange] = useState(true);\n  let [inputData, inputDataChange] = useState(\"\");\n\n  // 컴포넌트가 mount 되었을때, update 될때 특정 코드 실행\n  // use Effect 는 여러개 생성 가능 대신 먼저 적힌 코드부터 실행\n  // use Effect 콜백함수 뒤에 인자로 []를 사용하여 안에 특정 state를 집어넣을 수 있다.\n  // 즉 []는 state 조건을 뜻하고 해당 []가 비어있으면 조건에 맞는값이 없으므로\n  // 해당 useEffect는 실행되지 않는다. = 해당 컴포넌트가 처음 로드될때만 실행됨\n  // [] 내부에 state 여러개 추가 가능 ex) [state1, state2...]\n  useEffect(() => {\n    let timer = setTimeout(() => {\n      alertChange(false);\n    }, 2000);\n\n    console.log(\"hello\");\n\n    // unmount 될때\n    return () => {\n      clearTimeout(timer);\n    };\n    // settimeout은 해당 초가 지나기 전에 사용자에 의해 페이지 변경이 일어나면\n    // 버그가 발생할 수 있어 실행 후 제거해주는 것이 좋다. = clearTimeout\n  }, []);\n\n  let history = useHistory();\n  let { id } = useParams();\n  // useParams 반환값은 객체 그 안에 url의 모든 파라미터 담겨있음\n  // 그래서 destructuring 을 사용해 변수에 담아줌\n\n  let selectItem = props.shoes.find((i) => {\n    return i.id == id;\n  });\n  // find 메서드는 앞에 온 배열의 하나하나를 인자로 넣어주어 뒤에 콜백함수에 적어준 조건에 맞는 첫번째 값을 반환한다.\n  // 만약 조건에 맞는 모든 값들을 얻고 싶다면 filter 함수를 사용해 배열형태로 조건에 맞는 값들을 받아올 수 있다.\n\n  console.log(selectItem);\n  console.log(id);\n\n  function stockMinus() {\n    let stock = [...props.stock];\n    let idx = selectItem.id;\n    console.log(stock);\n    stock.splice(idx, 1, stock[idx] - 1);\n    console.log(stock);\n    return stock;\n  }\n\n  let [tab, tabChange] = useState(0);\n  let [onoff, onoffChange] = useState(false);\n\n  let state = useSelector((state) => {\n    return state;\n  });\n\n  useEffect(() => {\n    let copy = [...state.reducer3];\n    console.log(copy);\n    let find = copy.find((i) => {\n      return i == id;\n    });\n    // 중복찾기\n    if (!find) {\n      copy.push(id); // usaParam으로 가져온 것\n    }\n    state.reducer3 = copy;\n    localStorage.setItem(\"local\", JSON.stringify(copy));\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <Box>\n        <Title className=\"red\">Detail</Title>\n      </Box>\n\n      {inputData}\n      <input\n        onChange={(e) => {\n          inputDataChange(e.target.value);\n        }}\n      />\n\n      {\n        // 보통의 UI가 이렇게 true. false를 반환하는 state를 만들고\n        // 삼항조건식으로 생성 및 제거하는 방법으로 구축한다.\n        alert === true ? (\n          <div className=\"my-alert-2\">\n            <p>재고가 얼마 남지 않았습니다</p>\n          </div>\n        ) : null\n      }\n\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <img\n            src={\n              \"https://codingapple1.github.io/shop/shoes\" +\n              (selectItem.id + 1) +\n              \".jpg\"\n            }\n            width=\"100%\"\n            alt=\"이미지\"\n          />\n        </div>\n        <div className=\"col-md-6 mt-4\">\n          <h4 className=\"pt-5\">{selectItem.title}</h4>\n          <p>{selectItem.content}</p>\n          <p>{selectItem.price}원</p>\n          <Info stock={props.stock} selectItem={selectItem}></Info>\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => {\n              props.stockChange(stockMinus);\n              props.dispatch({\n                type: \"addItem\",\n                payload: {\n                  id: props.state[props.state.length - 1].id + 1,\n                  name: selectItem.title,\n                  quan: 1,\n                },\n              });\n              history.push(\"/cart\");\n            }}\n          >\n            주문하기\n          </button>\n          &nbsp;\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => {\n              history.push(\"/\");\n            }}\n          >\n            뒤로가기\n          </button>\n        </div>\n      </div>\n\n      <Nav className=\"mt-5\" variant=\"tabs\" defaultActiveKey=\"link-0\">\n        <Nav.Item>\n          <Nav.Link\n            eventKey=\"link-0\"\n            onClick={() => {\n              tabChange(0);\n              onoffChange(false);\n            }}\n          >\n            상품설명\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link\n            eventKey=\"link-1\"\n            onClick={() => {\n              tabChange(1);\n              onoffChange(false);\n            }}\n          >\n            배송정보\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link\n            eventKey=\"link-2\"\n            onClick={() => {\n              tabChange(2);\n              onoffChange(false);\n            }}\n          >\n            환불약관\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n\n      {/* in은 애니메이션 킬지 안킬지, classNames는 css지정 이름, timeout은 지속시간 */}\n      <CSSTransition in={onoff} classNames=\"wow\" timeout={500}>\n        <TabContent tab={tab} onoffChange={onoffChange} />\n      </CSSTransition>\n    </div>\n  );\n}\n\nfunction TabContent(props) {\n  useEffect(() => {\n    props.onoffChange(true);\n  });\n\n  if (props.tab === 0) {\n    return <div>0번째 내용입니다.</div>;\n  } else if (props.tab === 1) {\n    return <div>1번째 내용입니다.</div>;\n  } else if (props.tab === 2) {\n    return <div>2번째 내용입니다.</div>;\n  }\n}\n\nfunction Info(props) {\n  return <p>재고 : {props.stock[props.selectItem.id]}</p>;\n}\n\nfunction propsChange(state) {\n  console.log(state);\n  return {\n    state: state.reducer,\n    alert: state.reducer2,\n  };\n}\n\nexport default connect(propsChange)(Detail);\n"]},"metadata":{},"sourceType":"module"}