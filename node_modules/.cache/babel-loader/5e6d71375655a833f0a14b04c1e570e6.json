{"ast":null,"code":"import _toConsumableArray from\"/Users/kimjunghwan/coding_apple/REACT CLASS/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/kimjunghwan/coding_apple/REACT CLASS/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/kimjunghwan/coding_apple/REACT CLASS/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useContext,useState,lazy,Suspense}from\"react\";import{Navbar,Container,Nav,NavDropdown,Button}from\"react-bootstrap\";import\"./App.css\";import shoeList from\"./data\";import styled from\"styled-components\";import{Link,Route,Switch,useHistory}from\"react-router-dom\";import axios from\"axios\";// import Detail from \"./Detail.js\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=/*#__PURE__*/lazy(function(){return import(\"./Detail.js\");});// import Cart from \"./Cart.js\";\nvar Cart=/*#__PURE__*/lazy(function(){return import(\"./Cart.js\");});var Pointer=styled.img(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n\"])));export var stockContext=/*#__PURE__*/React.createContext();// 범위 생성(다른 파일의 컴포넌트에서 사용할 시 export 필요)\nfunction App(){var _useState=useState(shoeList),_useState2=_slicedToArray(_useState,2),shoes=_useState2[0],shoesChange=_useState2[1];var _useState3=useState([10,11,12,15,14,20]),_useState4=_slicedToArray(_useState3,2),stock=_useState4[0],stockChange=_useState4[1];// function dataAdd(data) {\n//   let newData = [...shoes];\n//   let addData = [...newData, ...data];\n//   shoesChange(addData);\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",children:\"ShoeShop\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/detail/0\",children:\"Detail\"}),/*#__PURE__*/_jsxs(NavDropdown,{title:\"Dropdown\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.1\",children:\"Action\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.2\",children:\"Another action\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.3\",children:\"Something\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.4\",children:\"Separated link\"})]})]})})]})}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"20% Season off\"}),/*#__PURE__*/_jsx(\"p\",{children:\"jumbotron\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Primary\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(stockContext.Provider,{value:stock,children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:shoes.map(function(item,index){return/*#__PURE__*/_jsx(ItemBox,{item:item,index:index},index);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){// 로딩중 UI\n// axios post 요청 = 데이터 전송\n// axios.post('서버URL', {id : \"아이디\", pw : 1234});\n// axios get요청\naxios.get(\"https://codingapple1.github.io/shop/data2.json\").then(function(result){// 로딩중 UI 안보이게\n//서버와 연결 성공했을때\n// result는 성공해서 받아온 모든 정보들이 담겨있는 객체\nshoesChange([].concat(_toConsumableArray(shoes),_toConsumableArray(result.data)));// result.data는 결과 객체에서 데이터 프로퍼타에 해당하는 값만 가져옴\n}).catch(function(){//서버와 연결 실패했을때\nconsole.log(\"실패!\");});//fetch도 위와 사용법은 거의 같음 대신 axios는 JSON파일의 \"\":\"\" 내용의 문자열에서\n// \"\"를 제거하여 객체 타입으로 반환해주고 fetch 함수는 JSON 그대로 반환하기때문에 객체타입으로 변환하는 작업이 필요하다.\n// fetch(\"https://codingapple1.github.io/shop/data2.json\")\n//   .then((result) => {\n//     console.log(result.data);\n//   })\n//   .catch();\n// 위처럼 사용하면 undefined 출력됨, 객체타입으로 변환 필요\n},children:\"\\uB354\\uBCF4\\uAE30\"})]})]}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/detail/:id\",children:/*#__PURE__*/_jsx(stockContext.Provider,{value:stock,children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529\\uC911\\uC785\\uB2C8\\uB2E4...\"}),children:/*#__PURE__*/_jsx(Detail,{shoes:shoes,shoesChange:shoesChange,stock:stock,stockChange:stockChange})})})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529\\uC911\\uC785\\uB2C8\\uB2E4...\"}),children:/*#__PURE__*/_jsx(Cart,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/:id\",children:/*#__PURE__*/_jsx(\"div\",{children:\"\\uC544\\uBB34\\uAC70\\uB098 \\uC801\\uC5C8\\uC744\\uB54C \\uC774\\uAC70 \\uBCF4\\uC5EC\\uC90C\"})})]})]});}function ItemBox(props){var history=useHistory();// state 공유 범위 사용 변수\nvar stock=useContext(stockContext);return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",onClick:function onClick(){history.push(\"/detail/\"+props.item.id);},children:[/*#__PURE__*/_jsx(Pointer,{src:\"https://codingapple1.github.io/shop/shoes\"+(props.index+1)+\".jpg\",alt:\"\\uC0C1\\uD488\\uC774\\uBBF8\\uC9C01\",width:\"100%\"}),/*#__PURE__*/_jsx(\"h4\",{children:props.item.title}),/*#__PURE__*/_jsxs(\"p\",{children:[props.item.content,\" & \",props.item.price]}),/*#__PURE__*/_jsx(Stock,{index:props.index})]});}function Stock(props){// state 공유 범위 사용 변수\nvar stock=useContext(stockContext);// 부모의 context범위 안에 포함되어 있는 컴포넌트들은 전부 state값 공유 가능\n// 공유 범위 사용 변수 작성 시...\nreturn/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC7AC\\uACE0 : \",stock[props.index]]});}export default App;","map":{"version":3,"sources":["/Users/kimjunghwan/coding_apple/REACT CLASS/shop/src/App.js"],"names":["React","useContext","useState","lazy","Suspense","Navbar","Container","Nav","NavDropdown","Button","shoeList","styled","Link","Route","Switch","useHistory","axios","Detail","Cart","Pointer","img","stockContext","createContext","App","shoes","shoesChange","stock","stockChange","map","item","index","get","then","result","data","catch","console","log","ItemBox","props","history","push","id","title","content","price","Stock"],"mappings":"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","sourcesContent":["import React, { useContext, useState, lazy, Suspense } from \"react\";\nimport { Navbar, Container, Nav, NavDropdown, Button } from \"react-bootstrap\";\nimport \"./App.css\";\nimport shoeList from \"./data\";\nimport styled from \"styled-components\";\n\nimport { Link, Route, Switch, useHistory } from \"react-router-dom\";\n\nimport axios from \"axios\";\n// import Detail from \"./Detail.js\";\nlet Detail = lazy(() => {\n  return import(\"./Detail.js\");\n});\n\n// import Cart from \"./Cart.js\";\nlet Cart = lazy(() => {\n  return import(\"./Cart.js\");\n});\n\nlet Pointer = styled.img`\n  cursor: pointer;\n`;\n\nexport let stockContext = React.createContext();\n// 범위 생성(다른 파일의 컴포넌트에서 사용할 시 export 필요)\n\nfunction App() {\n  let [shoes, shoesChange] = useState(shoeList);\n  let [stock, stockChange] = useState([10, 11, 12, 15, 14, 20]);\n\n  // function dataAdd(data) {\n  //   let newData = [...shoes];\n  //   let addData = [...newData, ...data];\n  //   shoesChange(addData);\n  // }\n\n  return (\n    <div className=\"App\">\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Container>\n          <Navbar.Brand as={Link} to=\"/\">\n            ShoeShop\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"me-auto\">\n              {/* <Nav.Link>\n                <Link to=\"/\">Home</Link>\n              </Nav.Link> */}\n              <Nav.Link as={Link} to=\"/\">\n                Home\n              </Nav.Link>\n              <Nav.Link as={Link} to=\"/detail/0\">\n                Detail\n              </Nav.Link>\n              <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\n                <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                <NavDropdown.Item href=\"#action/3.2\">\n                  Another action\n                </NavDropdown.Item>\n                <NavDropdown.Item href=\"#action/3.3\">\n                  Something\n                </NavDropdown.Item>\n                <NavDropdown.Divider />\n                <NavDropdown.Item href=\"#action/3.4\">\n                  Separated link\n                </NavDropdown.Item>\n              </NavDropdown>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n\n      {/* Switch태그로 감싸면 중복되는 url주소 있어도 상단에 작성된 하나만 보여줌 */}\n      <Switch>\n        <Route exact path=\"/\">\n          <div className=\"background\">\n            <h1>20% Season off</h1>\n            <p>jumbotron</p>\n            <p>\n              <Button variant=\"primary\">Primary</Button>\n            </p>\n          </div>\n          <div className=\"container\">\n            {/* 범위 생성 html */}\n            <stockContext.Provider value={stock}>\n              <div className=\"row\">\n                {shoes.map((item, index) => {\n                  return <ItemBox item={item} index={index} key={index} />;\n                })}\n              </div>\n            </stockContext.Provider>\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => {\n                // 로딩중 UI\n\n                // axios post 요청 = 데이터 전송\n                // axios.post('서버URL', {id : \"아이디\", pw : 1234});\n\n                // axios get요청\n                axios\n                  .get(\"https://codingapple1.github.io/shop/data2.json\")\n                  .then((result) => {\n                    // 로딩중 UI 안보이게\n                    //서버와 연결 성공했을때\n                    // result는 성공해서 받아온 모든 정보들이 담겨있는 객체\n                    shoesChange([...shoes, ...result.data]);\n                    // result.data는 결과 객체에서 데이터 프로퍼타에 해당하는 값만 가져옴\n                  })\n                  .catch(() => {\n                    //서버와 연결 실패했을때\n                    console.log(\"실패!\");\n                  });\n                //fetch도 위와 사용법은 거의 같음 대신 axios는 JSON파일의 \"\":\"\" 내용의 문자열에서\n                // \"\"를 제거하여 객체 타입으로 반환해주고 fetch 함수는 JSON 그대로 반환하기때문에 객체타입으로 변환하는 작업이 필요하다.\n                // fetch(\"https://codingapple1.github.io/shop/data2.json\")\n                //   .then((result) => {\n                //     console.log(result.data);\n                //   })\n                //   .catch();\n                // 위처럼 사용하면 undefined 출력됨, 객체타입으로 변환 필요\n              }}\n            >\n              더보기\n            </button>\n          </div>\n        </Route>\n        <Route exact path=\"/detail/:id\">\n          <stockContext.Provider value={stock}>\n            <Suspense fallback={<div>로딩중입니다...</div>}>\n              <Detail\n                shoes={shoes}\n                shoesChange={shoesChange}\n                stock={stock}\n                stockChange={stockChange}\n              />\n            </Suspense>\n          </stockContext.Provider>\n        </Route>\n\n        <Route path=\"/cart\">\n          <Suspense fallback={<div>로딩중입니다...</div>}>\n            <Cart />\n          </Suspense>\n        </Route>\n\n        <Route path=\"/:id\">\n          {/* :id 는 아무문자를 의미 */}\n          <div>아무거나 적었을때 이거 보여줌</div>\n        </Route>\n      </Switch>\n      {/* <Route path=\"~~~\" component={~~~}></Route> */}\n    </div>\n  );\n}\n\nfunction ItemBox(props) {\n  let history = useHistory();\n\n  // state 공유 범위 사용 변수\n  let stock = useContext(stockContext);\n\n  return (\n    <div\n      className=\"col-md-4\"\n      onClick={() => {\n        history.push(\"/detail/\" + props.item.id);\n      }}\n    >\n      <Pointer\n        src={\n          \"https://codingapple1.github.io/shop/shoes\" +\n          (props.index + 1) +\n          \".jpg\"\n        }\n        alt=\"상품이미지1\"\n        width=\"100%\"\n      />\n      <h4>{props.item.title}</h4>\n      <p>\n        {props.item.content} & {props.item.price}\n      </p>\n      <Stock index={props.index}></Stock>\n    </div>\n  );\n}\n\nfunction Stock(props) {\n  // state 공유 범위 사용 변수\n  let stock = useContext(stockContext);\n\n  // 부모의 context범위 안에 포함되어 있는 컴포넌트들은 전부 state값 공유 가능\n  // 공유 범위 사용 변수 작성 시...\n  return <p>재고 : {stock[props.index]}</p>;\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}